[{"/Users/yingxi/Desktop/IT_Project_022/client/src/index.js":"1","/Users/yingxi/Desktop/IT_Project_022/client/src/App.js":"2","/Users/yingxi/Desktop/IT_Project_022/client/src/homepage.js":"3","/Users/yingxi/Desktop/IT_Project_022/client/src/musicplayer.js":"4","/Users/yingxi/Desktop/IT_Project_022/client/src/navbar.js":"5","/Users/yingxi/Desktop/IT_Project_022/client/src/musiclist.js":"6","/Users/yingxi/Desktop/IT_Project_022/client/src/albums.js":"7","/Users/yingxi/Desktop/IT_Project_022/client/src/login.js":"8","/Users/yingxi/Desktop/IT_Project_022/client/src/admin.js":"9","/Users/yingxi/Desktop/IT_Project_022/client/src/dock.js":"10","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicBtn.js":"11","/Users/yingxi/Desktop/IT_Project_022/client/src/components/NavList.js":"12","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/index.js":"13","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/MusicItem.js":"14"},{"size":248,"mtime":1694764495595,"results":"15","hashOfConfig":"16"},{"size":866,"mtime":1695276980876,"results":"17","hashOfConfig":"16"},{"size":576,"mtime":1695456264346,"results":"18","hashOfConfig":"16"},{"size":4274,"mtime":1695458677901,"results":"19","hashOfConfig":"16"},{"size":741,"mtime":1695456488923,"results":"20","hashOfConfig":"16"},{"size":0,"mtime":1695369836977,"results":"21","hashOfConfig":"16"},{"size":5059,"mtime":1695456264345,"results":"22","hashOfConfig":"16"},{"size":2588,"mtime":1695276986017,"results":"23","hashOfConfig":"16"},{"size":15967,"mtime":1695459676135,"results":"24","hashOfConfig":"16"},{"size":361,"mtime":1694764495593,"results":"25","hashOfConfig":"16"},{"size":420,"mtime":1695350626756,"results":"26","hashOfConfig":"16"},{"size":527,"mtime":1695350626757,"results":"27","hashOfConfig":"16"},{"size":983,"mtime":1695454317072,"results":"28","hashOfConfig":"16"},{"size":666,"mtime":1695350631997,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hjunzl",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"43"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yingxi/Desktop/IT_Project_022/client/src/index.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/App.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/homepage.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/musicplayer.js",["74","75"],[],"import { Link } from 'react-router-dom';\nimport Dock from './dock';\nimport './musicplayer.css';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport MusicBtn from './components/MusicBtn';\nimport NavList from './components/NavList';\nimport axios from 'axios';\n\nfunction MusicPlayer() {\n  const myAudio = useRef(null);\n  const audioSource = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const [backendData, setBackendData] = useState({\n    data: [], // backend data\n    activeId: null, // Actived music id\n  });\n\n  // Connect FE & BE Server\n  // ÂºÇÊ≠•Âä†ËΩΩÊï∞ÊçÆ\n  const loadData = async () => {\n    try {\n      const response = await axios.get('http://localhost:3300/musicPlayer');\n      console.log('Received from backend:', response.data);\n      setBackendData(response.data);\n    } catch (error) {\n      console.error('Error fetching data from backend:', error);\n    }\n  };\n\n  useEffect(() => {\n    loadData(); // Âú®ÁªÑ‰ª∂Âä†ËΩΩÊó∂ÂºÇÊ≠•Âä†ËΩΩÊï∞ÊçÆ\n  }, []);\n\n\n\n\n\n\n  /**\n   * play song\n   * @param songPath\n   */\n\n  const playSong = (id) => {\n    const activeMusic = backendData?.data.find((item) => item._id === id);\n  \n    if (activeMusic) {\n      // Update musicList state\n      const newList = backendData?.data.map((item) => {\n        item.active = item._id === id;\n        return item;\n      });\n  \n      // Update backendData\n      setBackendData({\n        ...backendData,\n        data: newList,\n        activeId: id,\n      });\n  \n      // pause the current music\n      myAudio.current.pause();\n  \n      const audioSourcePath = `${process.env.PUBLIC_URL}/${activeMusic.file}`;\n  \n      audioSource.current.src = audioSourcePath;\n      myAudio.current.load();\n      myAudio.current.play();\n      setIsPlaying(true);\n    }\n  };\n  \n\n  const activeMusic = useMemo(\n    () => backendData?.data.find((item) => item._id === backendData.activeId) ?? '',\n    [backendData]\n  );\n\n  /**\n   * Stop song\n   */\n  const stopSong = () => {\n    myAudio.current.pause();\n    setIsPlaying(false);\n  };\n\n  /**\n   * Start song\n   */\n  const startSong = () => {\n    myAudio.current.play();\n    setIsPlaying(true);\n  };\n\n  const allTags = useMemo(() => {\n    const tagsArray = backendData?.data.flatMap((musicItem) => musicItem.tags) || [];\n    return [...new Set(tagsArray)];\n  }, [backendData]);\n\n  const [activeCategory, setActiveCategory] = useState(null);\n  const handleCategoryChange = (category) => {\n    setActiveCategory(category);\n  };\n\n  return (\n    <div className=\"music-player\">\n      <div className=\"music-player-wrap\">\n        <div className=\"navbar-placeholder\" />\n        <audio id=\"myAudio\" ref={myAudio}>\n          <source id=\"audioSource\" ref={audioSource} src=\"\" type=\"audio/mpeg\" />\n        </audio>\n\n        <div className=\"size-container relative\">\n          {/* <NavList></NavList> */}\n          <NavList\n            activeCategory={activeCategory}\n            onCategoryClick={handleCategoryChange}\n            allTags={allTags}\n          />\n        </div>\n\n\n\n\n        <div className=\"button-container music-btns-list\">\n          {backendData && backendData.data ? (\n            backendData.data\n              .filter((item) => !activeCategory || item.tags.includes(activeCategory))\n              .map((item) => (\n                <MusicBtn\n                  onClick={() => playSong(item._id)}\n                  key={item._id}\n                  face={item.picture}\n                  name={item.name}\n                  color={item?.tags?.[1]}\n                />\n              ))\n          ) : (\n            <div>Loading...</div>\n          )}\n        </div>\n\n\n        <div className=\"dock-background\">\n          <div className=\"dock-buttons\">\n            <div className=\"dock-text\">üéµ {activeMusic?.name ?? 'music'}</div>\n            {isPlaying ? (\n              <div className=\"dock-button toggle-play\" onClick={stopSong}>\n                ‚è∏Ô∏è\n              </div>\n            ) : (\n              <div className=\"dock-button toggle-play\" onClick={() => startSong(activeMusic.song)}>\n                ‚ñ∂Ô∏è\n              </div>\n            )}\n            {/* <div className=\"dock-button toggle-volume\">üîä</div> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MusicPlayer;\n",[],"/Users/yingxi/Desktop/IT_Project_022/client/src/navbar.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/musiclist.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/albums.js",["76"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/login.js",["77"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/admin.js",["78","79","80"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/dock.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicBtn.js",["81","82"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/NavList.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/index.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/MusicItem.js",[],[],{"ruleId":"83","severity":1,"message":"84","line":1,"column":10,"nodeType":"85","messageId":"86","endLine":1,"endColumn":14},{"ruleId":"83","severity":1,"message":"87","line":2,"column":8,"nodeType":"85","messageId":"86","endLine":2,"endColumn":12},{"ruleId":"83","severity":1,"message":"88","line":27,"column":15,"nodeType":"85","messageId":"86","endLine":27,"endColumn":29},{"ruleId":"83","severity":1,"message":"84","line":4,"column":10,"nodeType":"85","messageId":"86","endLine":4,"endColumn":14},{"ruleId":"83","severity":1,"message":"89","line":5,"column":8,"nodeType":"85","messageId":"86","endLine":5,"endColumn":13},{"ruleId":"83","severity":1,"message":"90","line":9,"column":10,"nodeType":"85","messageId":"86","endLine":9,"endColumn":25},{"ruleId":"91","severity":1,"message":"92","line":204,"column":25,"nodeType":"93","endLine":208,"endColumn":29},{"ruleId":"83","severity":1,"message":"94","line":1,"column":17,"nodeType":"85","messageId":"86","endLine":1,"endColumn":23},{"ruleId":"83","severity":1,"message":"95","line":1,"column":25,"nodeType":"85","messageId":"86","endLine":1,"endColumn":33},"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","'Dock' is defined but never used.","'scrollPosition' is assigned a value but never used.","'axios' is defined but never used.","'selectedMusicId' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don‚Äôt need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'useRef' is defined but never used.","'useState' is defined but never used."]