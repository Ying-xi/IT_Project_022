[{"/Users/yingxi/Desktop/IT_Project_022/client/src/index.js":"1","/Users/yingxi/Desktop/IT_Project_022/client/src/App.js":"2","/Users/yingxi/Desktop/IT_Project_022/client/src/homepage.js":"3","/Users/yingxi/Desktop/IT_Project_022/client/src/musiclist.js":"4","/Users/yingxi/Desktop/IT_Project_022/client/src/albums.js":"5","/Users/yingxi/Desktop/IT_Project_022/client/src/admin.js":"6","/Users/yingxi/Desktop/IT_Project_022/client/src/login.js":"7","/Users/yingxi/Desktop/IT_Project_022/client/src/navbar.js":"8","/Users/yingxi/Desktop/IT_Project_022/client/src/musicplayer.js":"9","/Users/yingxi/Desktop/IT_Project_022/client/src/dock.js":"10","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicBtn.js":"11","/Users/yingxi/Desktop/IT_Project_022/client/src/components/NavList.js":"12","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/index.js":"13","/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/MusicItem.js":"14"},{"size":248,"mtime":1694764495595,"results":"15","hashOfConfig":"16"},{"size":866,"mtime":1695276980876,"results":"17","hashOfConfig":"16"},{"size":532,"mtime":1695276980881,"results":"18","hashOfConfig":"16"},{"size":0,"mtime":1695369836977,"results":"19","hashOfConfig":"16"},{"size":4798,"mtime":1695276980881,"results":"20","hashOfConfig":"16"},{"size":18571,"mtime":1695449251886,"results":"21","hashOfConfig":"16"},{"size":2588,"mtime":1695276986017,"results":"22","hashOfConfig":"16"},{"size":747,"mtime":1695373810176,"results":"23","hashOfConfig":"16"},{"size":4372,"mtime":1695397655685,"results":"24","hashOfConfig":"16"},{"size":361,"mtime":1694764495593,"results":"25","hashOfConfig":"16"},{"size":420,"mtime":1695350626756,"results":"26","hashOfConfig":"16"},{"size":527,"mtime":1695350626757,"results":"27","hashOfConfig":"16"},{"size":513,"mtime":1695350631997,"results":"28","hashOfConfig":"16"},{"size":666,"mtime":1695350631997,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"hjunzl",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57","usedDeprecatedRules":"58"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/yingxi/Desktop/IT_Project_022/client/src/index.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/App.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/homepage.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/musiclist.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/albums.js",["74"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/admin.js",["75","76","77"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/login.js",["78"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/navbar.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/musicplayer.js",["79","80"],[],"import { Link } from 'react-router-dom';\nimport Dock from './dock';\nimport './musicplayer.css';\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport MusicBtn from './components/MusicBtn';\nimport NavList from './components/NavList';\nimport axios from 'axios';\n\nfunction MusicPlayer() {\n  const myAudio = useRef(null);\n  const audioSource = useRef(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n\n  const [backendData, setBackendData] = useState({\n    data: [], // backend data\n    activeId: null, // Actived music id\n  });\n\n  // Connect FE & BE Server\n  // ÂºÇÊ≠•Âä†ËΩΩÊï∞ÊçÆ\n  const loadData = async () => {\n    try {\n      const response = await axios.get('http://localhost:3300/musicPlayer');\n      console.log('Received from backend:', response.data);\n      setBackendData(response.data);\n    } catch (error) {\n      console.error('Error fetching data from backend:', error);\n    }\n  };\n\n  useEffect(() => {\n    loadData(); // Âú®ÁªÑ‰ª∂Âä†ËΩΩÊó∂ÂºÇÊ≠•Âä†ËΩΩÊï∞ÊçÆ\n  }, []);\n\n\n\n\n  \n\n  /**\n   * play song\n   * @param songPath\n   */\n\n  const playSong = (id) => {\n    const activeMusic = backendData?.data.find((item) => item._id === id);\n\n    if (activeMusic) {\n      // pause the current music\n      myAudio.current.pause();\n\n      const audioSourcePath = `data:audio/mpeg;base64,${activeMusic.file}`;\n\n      audioSource.current.src = audioSourcePath;\n      myAudio.current.load();\n      myAudio.current.play();\n      setIsPlaying(true);\n\n      setBackendData((prevData) => ({\n        ...prevData,\n        activeId: id,\n      }));\n    }\n\n    // Update musicList state\n    const newList = backendData?.data.map((item) => {\n      item.active = item._id === id;\n      return item;\n    });\n\n    // Update backendData\n    if (backendData) {\n      setBackendData({\n        ...backendData,\n        data: newList,\n      });\n    }\n  };\n\n  const activeMusic = useMemo(\n    () => backendData?.data.find((item) => item._id === backendData.activeId) ?? '',\n    [backendData]\n  );\n\n  /**\n   * Stop song\n   */\n  const stopSong = () => {\n    myAudio.current.pause();\n    setIsPlaying(false);\n  };\n\n  /**\n   * Start song\n   */\n  const startSong = () => {\n    myAudio.current.play();\n    setIsPlaying(true);\n  };\n\n  const allTags = useMemo(() => {\n    const tagsArray = backendData?.data.flatMap((musicItem) => musicItem.tags) || [];\n    return [...new Set(tagsArray)];\n  }, [backendData]);\n\n  const [activeCategory, setActiveCategory] = useState(null);\n  const handleCategoryChange = (category) => {\n    setActiveCategory(category);\n  };\n\n  return (\n    <div className=\"music-player\">\n      <div className=\"music-player-wrap\">\n        <div className=\"navbar-placeholder\" />\n        <audio id=\"myAudio\" ref={myAudio}>\n          <source id=\"audioSource\" ref={audioSource} src=\"\" type=\"audio/mpeg\" />\n        </audio>\n\n        <div className=\"size-container relative\">\n          {/* <NavList></NavList> */}\n          <NavList\n            activeCategory={activeCategory}\n            onCategoryClick={handleCategoryChange}\n            allTags={allTags}\n          />\n        </div>\n\n        <div className=\"button-container music-btns-list\">\n          {backendData && backendData.data ? (\n            backendData.data\n              .filter((item) => !activeCategory || item.tags.includes(activeCategory))\n              .map((item) => (\n                <MusicBtn\n                  onClick={() => playSong(item._id)}\n                  key={item._id}\n                  face={`data:image/jpeg;base64,${item.picture}`}\n                  name={item.name}\n                  color={item?.tags?.[1]}\n                />\n              ))\n          ) : (\n            <div>Loading...</div>\n          )}\n        </div>\n\n        <div className=\"dock-background\">\n          <div className=\"dock-buttons\">\n            <div className=\"dock-text\">üéµ {activeMusic?.name ?? 'music'}</div>\n            {isPlaying ? (\n              <div className=\"dock-button toggle-play\" onClick={stopSong}>\n                ‚è∏Ô∏è\n              </div>\n            ) : (\n              <div className=\"dock-button toggle-play\" onClick={() => startSong(activeMusic.song)}>\n                ‚ñ∂Ô∏è\n              </div>\n            )}\n            {/* <div className=\"dock-button toggle-volume\">üîä</div> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MusicPlayer;\n",[],"/Users/yingxi/Desktop/IT_Project_022/client/src/dock.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicBtn.js",["81","82"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/NavList.js",[],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/index.js",["83"],[],"/Users/yingxi/Desktop/IT_Project_022/client/src/components/MusicList/MusicItem.js",[],[],{"ruleId":"84","severity":1,"message":"85","line":25,"column":15,"nodeType":"86","messageId":"87","endLine":25,"endColumn":29},{"ruleId":"84","severity":1,"message":"88","line":5,"column":8,"nodeType":"86","messageId":"87","endLine":5,"endColumn":13},{"ruleId":"84","severity":1,"message":"89","line":9,"column":10,"nodeType":"86","messageId":"87","endLine":9,"endColumn":25},{"ruleId":"90","severity":1,"message":"91","line":206,"column":25,"nodeType":"92","endLine":210,"endColumn":29},{"ruleId":"84","severity":1,"message":"93","line":4,"column":10,"nodeType":"86","messageId":"87","endLine":4,"endColumn":14},{"ruleId":"84","severity":1,"message":"93","line":1,"column":10,"nodeType":"86","messageId":"87","endLine":1,"endColumn":14},{"ruleId":"84","severity":1,"message":"94","line":2,"column":8,"nodeType":"86","messageId":"87","endLine":2,"endColumn":12},{"ruleId":"84","severity":1,"message":"95","line":1,"column":17,"nodeType":"86","messageId":"87","endLine":1,"endColumn":23},{"ruleId":"84","severity":1,"message":"96","line":1,"column":25,"nodeType":"86","messageId":"87","endLine":1,"endColumn":33},{"ruleId":"84","severity":1,"message":"97","line":5,"column":21,"nodeType":"86","messageId":"87","endLine":5,"endColumn":33},"no-unused-vars","'scrollPosition' is assigned a value but never used.","Identifier","unusedVar","'axios' is defined but never used.","'selectedMusicId' is assigned a value but never used.","jsx-a11y/img-redundant-alt","Redundant alt attribute. Screen-readers already announce `img` tags as an image. You don‚Äôt need to use the words `image`, `photo,` or `picture` (or any specified custom words) in the alt prop.","JSXOpeningElement","'Link' is defined but never used.","'Dock' is defined but never used.","'useRef' is defined but never used.","'useState' is defined but never used.","'setMusicInfo' is assigned a value but never used."]